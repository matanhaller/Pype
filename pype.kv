#<Button>:
#	background_normal: ''
#	background_down: ''

<ScrollView>:
	size_hint_y: 0.8
	do_scroll_x: False

<GridLayout>:
	size_hint_y: None
	height: 0

<EntryScreen>:
	id: entry_screen
	BoxLayout:
		id: main_layout
		orientation: 'vertical'
		Label:
			text: 'Welcome to Pype'
			font_size: 48
		TextInput:
			id: username_input
			multiline: False
			hint_text: 'Enter username'
			font_size: 24
			on_text_validate: root.on_join_btn_press()
		Button:
			id: join_btn
			text: 'Join'
			font_size: 36
			on_press: root.on_join_btn_press()

<MainScreen>:
	id: main_screen
	BoxLayout:
		id: main_layout
		orientation: 'vertical'
		BoxLayout:
			size_hint_y: 0.9
			orientation: 'vertical'
			Label:
				size_hint_y: 0.2
				text: 'Welcome, ' + root.username
				font_size: 36
			BoxLayout:
				id: interface_layout
				orientation: 'horizontal'
				size_hint_y: 0.8
		BoxLayout:
			id: footer_layout
			size_hint_y: 0.1
			orientation: 'horizontal'

<UserSlot>:
	size_hint_y: None
	height: 50
	orientation: 'horizontal'
	BoxLayout:
		orientation: 'vertical'
		size_hint_x: 0.8
		Label:
			id: user_lbl
			size_hint_y: 0.8
			text: root.username
			font_size: 18
		Label:
			id: status_lbl
			size_hint_y: 0.2
			text: root.status
			font_size: 14
	Button:
		size_hint_x: 0.2
		text: 'Call'
		on_press: root.on_call_btn_press()

<CallSlot>:
	size_hint_y: None
	height: 50
	orientation: 'horizontal'
	Label:
		id: user_lbl
		size_hint_x: 0.8
		font_size: 18
	Button:
		size_hint_x: 0.2
		text: 'Join'
		on_press: root.on_join_btn_press()

<UserLayout>:
	orientation: 'vertical'
	size_hint_x: 0.3
	Label:
		id: user_num_lbl
		size_hint_y: 0.2
		font_size: 24
	ScrollView:
		GridLayout:
			id: user_slot_layout
			cols: 1

<CallLayout>:
	orientation: 'vertical'
	size_hint_x: 0.7
	Label:
		id: call_num_lbl
		size_hint_y: 0.2
		font_size: 24
	ScrollView:
		GridLayout:
			id: call_slot_layout
			cols: 1

<PendingCallFooter>:
	orientation: 'horizontal'
	Label:
		text: 'Calling {}...'.format(root.username)
	Label:
		id: counter
		text: '00:00'

<CallFooter>
	orientation: 'horizontal'
	Label:
		size_hint_x: 0.6
		text: '{} is calling'.format(root.username)
	Button:
		size_hint_x: 0.2
		text: 'Accept'
		on_press: root.on_call_btn_press('accept')
	Button:
		size_hint_x: 0.2
		text: 'Reject'
		on_press: root.on_call_btn_press('reject')

<SessionLayout>:
	size_hint_x: 0.7
	orientation: 'horizontal'

<VideoLayout>:
	GridLayout:
		id: video_display_layout
		cols: 2
		Label:
			text: 'test'
		Label:
			text: 'more'
			pos_hint: {'x': 0, 'y': 0}	
	#SelfVideoDisplay:

<SelfVideoDisplay>:
	resolution: 640, 480
	size_hint: 0.25, 0.25
	pos_hint: {'x': 0, 'y': 0}		

<PeerVideoDisplay>:
	orientation: 'vertical'
	Image:
		id: frame
		size_hint_y: 0.9
	Label:
		canvas:
			Color:
				rgba: 0, 0, 0, 1
			Rectangle:
				pos: self.pos
				size: self.size
		size_hint_y: 0.1
		text: root.user

<ChatLayout>:
	size_hint_x: 0.3
	orientation: 'vertical'
	ScrollView:
		id: scroll_layout
		GridLayout:
			id: chat_msg_layout
			cols: 1
	BoxLayout:
		size_hint_y: 0.1
		orientation: 'horizontal'
		TextInput:
			id: chat_input
			size_hint_x: 0.8
			multiline: False
			hint_text: 'Enter message'
			on_text_validate: root.on_send_btn_press()
		Button:
			size_hint_x: 0.2
			text: 'Send'
			on_press: root.on_send_btn_press()

<MessageLabel>:
	size_hint_y: None
	font_size: 18
	text_size: self.size
	halign: 'left'
	text: self.msg
	markup: True

<SessionFooter>:
	orientation: 'horizontal'
	Label:
		id: counter
		text: '00:00'
	Button:
		text: 'Statistics'
	Button:
		text: 'End call'
		on_press: root.on_end_call_btn_press()
